<div class="login-container">
  <div class="login-header">
    <h2 class="login-title">Entrar na sua conta</h2>
    <p class="login-subtitle">Acesse sua área pessoal e gerencie seus pagamentos</p>
  </div>

  <!-- Erro geral -->
  <div *ngIf="generalError" class="alert alert-error">
    <div class="alert-icon error-icon"></div>
    <span>{{ generalError }}</span>
  </div>

  <form (ngSubmit)="onSubmit()" class="login-form">
    <!-- Email -->
    <div class="form-group">
      <label for="email" class="form-label">Email</label>
      <input
        id="email"
        type="email"
        placeholder="seu@email.com"
        [(ngModel)]="loginData.email"
        (input)="onInputChange('email')"
        [class]="'form-input ' + (errors['email'] ? 'input-error' : '')"
        name="email"
        autocomplete="email"
      />
      <span *ngIf="errors['email']" class="error-message">{{ errors['email'] }}</span>
    </div>

    <!-- Senha -->
    <div class="form-group">
      <label for="password" class="form-label">Senha</label>
      <div class="password-input-group">
        <input
          id="password"
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Sua senha"
          [(ngModel)]="loginData.password"
          (input)="onInputChange('password')"
          [class]="'form-input ' + (errors['password'] ? 'input-error' : '')"
          name="password"
          autocomplete="current-password"
        />
        <button
          type="button"
          class="password-toggle"
          (click)="togglePasswordVisibility()"
          [title]="showPassword ? 'Ocultar senha' : 'Mostrar senha'"
        >
          <div [class]="showPassword ? 'eye-off-icon' : 'eye-icon'"></div>
        </button>
      </div>
      <span *ngIf="errors['password']" class="error-message">{{ errors['password'] }}</span>
    </div>

    <!-- Esqueci minha senha -->
    <div class="form-actions">
      <button
        type="button"
        class="forgot-password-link"
        (click)="onForgotPassword()"
      >
        Esqueci minha senha
      </button>
    </div>

    <!-- Botão de login -->
    <button
      type="submit"
      class="btn-login"
      [disabled]="isLoading"
    >
      <div *ngIf="isLoading" class="spinner-small"></div>
      <span>{{ isLoading ? 'Entrando...' : 'Entrar' }}</span>
    </button>
  </form>

  <!-- Link para registro -->
  <div class="switch-auth">
    <span>Não tem uma conta? </span>
    <button
      type="button"
      class="switch-link"
      (click)="onSwitchToRegister()"
    >
      Criar conta
    </button>
  </div>

  <!-- Divisor -->
  <div class="divider">
    <span>ou continue sem cadastro</span>
  </div>

  <!-- Botão para continuar sem login -->
  <button
    type="button"
    class="btn-guest"
    (click)="goToHome()"
  >
    Continuar como visitante
  </button>
</div>
